<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			.wrapper {
				width: 500px;
				border: 1px solid black;
				height: 500px;
				position: relative;
			}
		</style>
	</head>
	<body>
		<div class="wrapper">
		</div>

		<script>
			var _wrapper = document.querySelector(".wrapper");
			class Circle {
				constructor(r, bgc, left, bottom, speed) {
					this.r = r;
					this.bgc = bgc;
					this.left = left;
					this.bottom = bottom;
					this.speed = speed;
					this.init(); //new时就调用
					// 定时器使用普通函数this指向window，箭头函数指向上一层作用域this
					setInterval(()=>{
						this.move();
					}, 20)
				}
				//小球初始化
				init() {
					var box = document.createElement("div");
					box.style.width = 2 * this.r + "px";
					box.style.height = 2 * this.r + "px";
					box.style.borderRadius = "50%";
					box.style.position = "absolute";
					box.style.left = this.left + "px";
					box.style.bottom = this.bottom + "px";
					box.style.backgroundColor = this.bgc;
					_wrapper.appendChild(box);
					this.box = box; //新添加一个box属性
				}
				// 小球运动方法
				move() {
					this.bottom += this.speed;
					// 到最上边
					if (this.bottom >= _wrapper.clientHeight - this.box.offsetHeight) {
						this.bottom = _wrapper.clientHeight - this.box.offsetHeight;
						this.speed *= -1;
					}
					//到最下边
					if (this.bottom <= 0) {
						this.bottom =0;
						this.speed *= -1;
					}
					this.box.style.bottom = this.bottom + "px";
				}

			}

			var circle1 = new Circle(15, "red", 10, 10, 10);
			var circle1 = new Circle(20, "green", 100, 30, 5);
			var circle1 = new Circle(30, "blue", 200, 50, 3);
			var circle1 = new Circle(25, "blue", 300, 20, 6);
			
			setInterval(()=>{
				this
			}, 20)
		</script>
	</body>
</html>
